# ==============================================
# GOOGLE CLOUD RUN COM SUPABASE
# ==============================================
# Este arquivo é específico para deployment no Google Cloud Run
# Usado pelo script: ./deploy-cloudrun.sh

# Ambiente
ENVIRONMENT=production

# ==============================================
# SUPABASE DATABASE CONFIGURATION
# ==============================================
# Obtenha no Supabase Dashboard:
# Settings > Database > Connection string > URI

# Database host (formato: db.<seu-projeto>.supabase.co:5432)
INSTANCE_CONNECTION_NAME=db.xxxxxxxxxxxxx.supabase.co:5432

# Database credentials
DB_USER=postgres
DB_PASS=sua_senha_do_supabase
DB_NAME=postgres

# ==============================================
# MICROSOFT SSO & AUTHENTICATION
# ==============================================
# Configuração necessária para login com Microsoft (Office 365)
# Obtenha no Azure Portal > App Registrations

MS_CLIENT_ID=seu_client_id_aqui
MS_CLIENT_SECRET=seu_client_secret_aqui
MS_TENANT_ID=seu_tenant_id_aqui
SECRET_KEY=gere_uma_string_aleatoria_e_segura
BASE_URL=https://sua-url-do-cloud-run.a.run.app

# ==============================================
# CORS CONFIGURATION
# ==============================================
# IMPORTANTE: Após o primeiro deploy, atualize com a URL do Cloud Run
# Você receberá algo como: https://consultancy-pricing-xxxx-uc.a.run.app
# 
# Primeiro deploy (usar *):
CORS_ORIGINS=*
#
# Após primeiro deploy (usar URL específica):
# CORS_ORIGINS=https://consultancy-pricing-xxxx-uc.a.run.app

# ==============================================
# COMO USAR
# ==============================================
# 1. Copie este arquivo: cp .env.cloudrun.example .env.cloudrun
# 2. Edite .env.cloudrun com suas credenciais do Supabase e Microsoft
# 3. Execute: ./deploy-cloudrun.sh
#
# O script automaticamente:
# - Valida as credenciais
# - Faz build da imagem Docker
# - Envia para Google Container Registry
# - Deploy no Cloud Run
# - Retorna a URL da aplicação
#
# Veja o guia completo em: CLOUDRUN_DEPLOYMENT.md
